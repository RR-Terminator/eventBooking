
CREATE TABLE users (
    user_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_name VARCHAR(100) NOT NULL UNIQUE,
    user_password VARCHAR(200) NOT NULL
);


CREATE TABLE events (
    event_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    event_name VARCHAR(200) NOT NULL,
    event_description TEXT,
    event_date DATE NOT NULL,
    event_venue VARCHAR(200) NOT NULL,
    event_isActive BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE seats (
    seat_id UUID PRIMARY KEY,
    seat_type VARCHAR(20),
    seat_price DOUBLE PRECISION,
    is_available BOOLEAN,
    event_id UUID REFERENCES events(event_id),
    user_id UUID
);


CREATE TABLE bookings (
    booking_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(user_id),
    event_id UUID REFERENCES events(event_id),
    booking_status VARCHAR(20) DEFAULT 'CONFIRMED',
    booking_date TIMESTAMP DEFAULT NOW()
);

CREATE TABLE booking_seats (
    booking_id UUID REFERENCES bookings(booking_id),
    seat_id UUID REFERENCES seats(seat_id),
    PRIMARY KEY(booking_id, seat_id)
);
